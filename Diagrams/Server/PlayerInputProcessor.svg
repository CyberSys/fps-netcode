<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="285px" preserveAspectRatio="none" style="width:1236px;height:285px;" version="1.1" viewBox="0 0 1236 285" width="1236px" zoomAndPan="magnify"><defs><filter height="300%" id="f32qph8xhqwvz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[177e16c1c494a4e26bdf4821ac9d11b2]
class TickInput--><rect fill="#FEFECE" filter="url(#f32qph8xhqwvz)" height="66.7422" id="TickInput" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1052.5" y="76.5"/><ellipse cx="1078.3" cy="95.4688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1081.2688,101.1094 Q1080.6906,101.4063 1080.05,101.5469 Q1079.4094,101.7031 1078.7063,101.7031 Q1076.2063,101.7031 1074.8781,100.0625 Q1073.5656,98.4063 1073.5656,95.2813 Q1073.5656,92.1563 1074.8781,90.5 Q1076.2063,88.8438 1078.7063,88.8438 Q1079.4094,88.8438 1080.05,89 Q1080.7063,89.1563 1081.2688,89.4531 L1081.2688,92.1719 Q1080.6438,91.5938 1080.05,91.3281 Q1079.4563,91.0469 1078.8313,91.0469 Q1077.4875,91.0469 1076.8,92.125 Q1076.1125,93.1875 1076.1125,95.2813 Q1076.1125,97.375 1076.8,98.4531 Q1077.4875,99.5156 1078.8313,99.5156 Q1079.4563,99.5156 1080.05,99.25 Q1080.6438,98.9688 1081.2688,98.3906 L1081.2688,101.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="50" x="1097.7" y="92.6387">«struct»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="1094.7" y="106.6074">TickInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1053.5" x2="1163.5" y1="114.4375" y2="114.4375"/><ellipse cx="1063.5" cy="125.4375" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1072.5" y="128.6479">WorldTick : uint</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1053.5" x2="1163.5" y1="135.2422" y2="135.2422"/><!--MD5=[05d167ed85521254781c2ff4fa0c833d]
class PlayerInputProcessor--><rect fill="#FEFECE" filter="url(#f32qph8xhqwvz)" height="112.0234" id="PlayerInputProcessor" style="stroke: #A80036; stroke-width: 1.5;" width="613" x="6" y="54"/><ellipse cx="241.75" cy="70" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M244.7188,75.6406 Q244.1406,75.9375 243.5,76.0781 Q242.8594,76.2344 242.1563,76.2344 Q239.6563,76.2344 238.3281,74.5938 Q237.0156,72.9375 237.0156,69.8125 Q237.0156,66.6875 238.3281,65.0313 Q239.6563,63.375 242.1563,63.375 Q242.8594,63.375 243.5,63.5313 Q244.1563,63.6875 244.7188,63.9844 L244.7188,66.7031 Q244.0938,66.125 243.5,65.8594 Q242.9063,65.5781 242.2813,65.5781 Q240.9375,65.5781 240.25,66.6563 Q239.5625,67.7188 239.5625,69.8125 Q239.5625,71.9063 240.25,72.9844 Q240.9375,74.0469 242.2813,74.0469 Q242.9063,74.0469 243.5,73.7813 Q244.0938,73.5 244.7188,72.9219 L244.7188,75.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="262.25" y="74.1543">PlayerInputProcessor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="618" y1="86" y2="86"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="94"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="26" y="100.2104">staleInputs : int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="618" y1="106.8047" y2="106.8047"/><ellipse cx="17" cy="117.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="343" x="26" y="121.0151">LogQueueStatsForPlayer(player:Player, worldTick:uint) : void</text><ellipse cx="17" cy="130.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="296" x="26" y="133.8198">TryGetLatestInput(playerId:byte, ret:TickInput) : bool</text><ellipse cx="17" cy="143.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="311" x="26" y="146.6245">DequeueInputsForTick(worldTick:uint) : List&lt;TickInput&gt;</text><ellipse cx="17" cy="156.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="587" x="26" y="159.4292">EnqueueInput(command:NetCommand.PlayerInputCommand, player:Player, serverWorldTick:uint) : void</text><!--MD5=[b16dc041c6ed60ed37e80492e5c11375]
class SimplePriorityQueue`1--><rect fill="#FEFECE" filter="url(#f32qph8xhqwvz)" height="48" id="SimplePriorityQueue`1" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="835.5" y="86"/><ellipse cx="850.5" cy="102" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M853.4688,107.6406 Q852.8906,107.9375 852.25,108.0781 Q851.6094,108.2344 850.9063,108.2344 Q848.4063,108.2344 847.0781,106.5938 Q845.7656,104.9375 845.7656,101.8125 Q845.7656,98.6875 847.0781,97.0313 Q848.4063,95.375 850.9063,95.375 Q851.6094,95.375 852.25,95.5313 Q852.9063,95.6875 853.4688,95.9844 L853.4688,98.7031 Q852.8438,98.125 852.25,97.8594 Q851.6563,97.5781 851.0313,97.5781 Q849.6875,97.5781 849,98.6563 Q848.3125,99.7188 848.3125,101.8125 Q848.3125,103.9063 849,104.9844 Q849.6875,106.0469 851.0313,106.0469 Q851.6563,106.0469 852.25,105.7813 Q852.8438,105.5 853.4688,104.9219 L853.4688,107.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="864.5" y="106.1543">SimplePriorityQueue`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="1011.5" y="83"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="1012.5" y="95.1387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="836.5" x2="1016.5" y1="118" y2="118"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="836.5" x2="1016.5" y1="126" y2="126"/><!--MD5=[2e1ff885372daab8d802f213ced6c836]
class Dictionary`2--><rect fill="#FEFECE" filter="url(#f32qph8xhqwvz)" height="48" id="Dictionary`2" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="654.5" y="86"/><ellipse cx="669.5" cy="102" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M672.4688,107.6406 Q671.8906,107.9375 671.25,108.0781 Q670.6094,108.2344 669.9063,108.2344 Q667.4063,108.2344 666.0781,106.5938 Q664.7656,104.9375 664.7656,101.8125 Q664.7656,98.6875 666.0781,97.0313 Q667.4063,95.375 669.9063,95.375 Q670.6094,95.375 671.25,95.5313 Q671.9063,95.6875 672.4688,95.9844 L672.4688,98.7031 Q671.8438,98.125 671.25,97.8594 Q670.6563,97.5781 670.0313,97.5781 Q668.6875,97.5781 668,98.6563 Q667.3125,99.7188 667.3125,101.8125 Q667.3125,103.9063 668,104.9844 Q668.6875,106.0469 670.0313,106.0469 Q670.6563,106.0469 671.25,105.7813 Q671.8438,105.5 672.4688,104.9219 L672.4688,107.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="683.5" y="106.1543">Dictionary`2</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="36" x="767.5" y="83"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="34" x="768.5" y="95.1387">T1,T2</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="655.5" x2="799.5" y1="118" y2="118"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="655.5" x2="799.5" y1="126" y2="126"/><!--MD5=[2cb47ba637a0d19583e6199456f6ad0b]
class Player--><rect fill="#FEFECE" filter="url(#f32qph8xhqwvz)" height="48" id="Player" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="1010.5" y="226"/><ellipse cx="1025.5" cy="242" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1028.4688,247.6406 Q1027.8906,247.9375 1027.25,248.0781 Q1026.6094,248.2344 1025.9063,248.2344 Q1023.4063,248.2344 1022.0781,246.5938 Q1020.7656,244.9375 1020.7656,241.8125 Q1020.7656,238.6875 1022.0781,237.0313 Q1023.4063,235.375 1025.9063,235.375 Q1026.6094,235.375 1027.25,235.5313 Q1027.9063,235.6875 1028.4688,235.9844 L1028.4688,238.7031 Q1027.8438,238.125 1027.25,237.8594 Q1026.6563,237.5781 1026.0313,237.5781 Q1024.6875,237.5781 1024,238.6563 Q1023.3125,239.7188 1023.3125,241.8125 Q1023.3125,243.9063 1024,244.9844 Q1024.6875,246.0469 1026.0313,246.0469 Q1026.6563,246.0469 1027.25,245.7813 Q1027.8438,245.5 1028.4688,244.9219 L1028.4688,247.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="1039.5" y="246.1543">Player</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1011.5" x2="1079.5" y1="258" y2="258"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1011.5" x2="1079.5" y1="266" y2="266"/><!--MD5=[4470e5d2ab06cd44d653016344f3ffd7]
class PlayerInputs--><rect fill="#FEFECE" filter="url(#f32qph8xhqwvz)" height="48" id="PlayerInputs" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1116" y="226"/><ellipse cx="1131" cy="242" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1133.9688,247.6406 Q1133.3906,247.9375 1132.75,248.0781 Q1132.1094,248.2344 1131.4063,248.2344 Q1128.9063,248.2344 1127.5781,246.5938 Q1126.2656,244.9375 1126.2656,241.8125 Q1126.2656,238.6875 1127.5781,237.0313 Q1128.9063,235.375 1131.4063,235.375 Q1132.1094,235.375 1132.75,235.5313 Q1133.4063,235.6875 1133.9688,235.9844 L1133.9688,238.7031 Q1133.3438,238.125 1132.75,237.8594 Q1132.1563,237.5781 1131.5313,237.5781 Q1130.1875,237.5781 1129.5,238.6563 Q1128.8125,239.7188 1128.8125,241.8125 Q1128.8125,243.9063 1129.5,244.9844 Q1130.1875,246.0469 1131.5313,246.0469 Q1132.1563,246.0469 1132.75,245.7813 Q1133.3438,245.5 1133.9688,244.9219 L1133.9688,247.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="1145" y="246.1543">PlayerInputs</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1117" x2="1224" y1="258" y2="258"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1117" x2="1224" y1="266" y2="266"/><!--MD5=[b600090b2fa9522e6110fd0676b1ddb6]
link TickInput to Player--><path d="M1093.57,143.7 C1082.84,167.22 1068.51,198.59 1058.3,220.96 " fill="none" id="TickInput-&gt;Player" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1056.18,225.6,1063.5534,219.0706,1058.2544,221.0506,1056.2744,215.7516,1056.18,225.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1015.0301" y="214.9075">Player</text><!--MD5=[4140c4b281bec2f22babac08cdbb9c5c]
link TickInput to PlayerInputs--><path d="M1123.19,143.7 C1133.76,167.22 1147.85,198.59 1157.9,220.96 " fill="none" id="TickInput-&gt;PlayerInputs" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1159.98,225.6,1159.9485,215.7512,1157.9347,221.0375,1152.6485,219.0236,1159.98,225.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="1113.6626" y="214.9075">Inputs</text><!--MD5=[681061a1aa211cd0fa04f0af3e55c32f]
link PlayerInputProcessor to SimplePriorityQueue`1--><path d="M454.7322,50.0505 C454.7322,50.0505 686.77,-10.85 800,24 C834.05,34.48 867.15,57.59 890.95,77.22 " fill="none" id="PlayerInputProcessor-SimplePriorityQueue`1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="900.87,85.65,896.6028,76.7736,897.0602,82.4119,891.4218,82.8693,900.87,85.65" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="897.0602" x2="890.965" y1="82.4119" y2="77.235"/><polygon fill="#FFFFFF" points="443.38,53.94,450.3526,55.7793,454.7322,50.0505,447.7596,48.2112,443.38,53.94" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="762.3879" y="74.9079">queue&lt;TickInput&gt;</text><!--MD5=[9e00fab8b127af48ca7a89d3ea99707b]
link PlayerInputProcessor to Dictionary`2--><path d="M631.29,110 C631.29,110 638.39,110 641.36,110 " fill="none" id="PlayerInputProcessor-Dictionary`2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="654.38,110,645.38,106,649.38,110,645.38,114,654.38,110" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="649.38" x2="641.38" y1="110" y2="110"/><polygon fill="#FFFFFF" points="619.29,110,625.29,114,631.29,110,625.29,106,619.29,110" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="596.5349" y="74.8141">latestPlayerInput&lt;byte,TickInput&gt;</text><!--MD5=[882d46dd362d6ecef7e8b3b5bb7322dc]
@startuml
class TickInput <<struct>> {
    + WorldTick : uint
}
class PlayerInputProcessor {
    - staleInputs : int
    + LogQueueStatsForPlayer(player:Player, worldTick:uint) : void
    + TryGetLatestInput(playerId:byte, ret:TickInput) : bool
    + DequeueInputsForTick(worldTick:uint) : List<TickInput>
    + EnqueueInput(command:NetCommand.PlayerInputCommand, player:Player, serverWorldTick:uint) : void
}
class "SimplePriorityQueue`1"<T> {
}
class "Dictionary`2"<T1,T2> {
}
TickInput - -> "Player" Player
TickInput - -> "Inputs" PlayerInputs
PlayerInputProcessor o-> "queue<TickInput>" "SimplePriorityQueue`1"
PlayerInputProcessor o-> "latestPlayerInput<byte,TickInput>" "Dictionary`2"
@enduml

PlantUML version 1.2020.08(Sun Apr 26 14:08:22 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 15-ea+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>