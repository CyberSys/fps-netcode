<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="398px" preserveAspectRatio="none" style="width:1471px;height:398px;" version="1.1" viewBox="0 0 1471 398" width="1471px" zoomAndPan="magnify"><defs><filter height="300%" id="fhqc0qf6hk99z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[1863f3d90d6cd2be70f23b94a50c9bc6]
class ClientSimulation--><rect fill="#FEFECE" filter="url(#fhqc0qf6hk99z)" height="137.6328" id="ClientSimulation" style="stroke: #A80036; stroke-width: 1.5;" width="1016" x="6" y="116"/><ellipse cx="459.75" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M462.7188,137.6406 Q462.1406,137.9375 461.5,138.0781 Q460.8594,138.2344 460.1563,138.2344 Q457.6563,138.2344 456.3281,136.5938 Q455.0156,134.9375 455.0156,131.8125 Q455.0156,128.6875 456.3281,127.0313 Q457.6563,125.375 460.1563,125.375 Q460.8594,125.375 461.5,125.5313 Q462.1563,125.6875 462.7188,125.9844 L462.7188,128.7031 Q462.0938,128.125 461.5,127.8594 Q460.9063,127.5781 460.2813,127.5781 Q458.9375,127.5781 458.25,128.6563 Q457.5625,129.7188 457.5625,131.8125 Q457.5625,133.9063 458.25,134.9844 Q458.9375,136.0469 460.2813,136.0469 Q460.9063,136.0469 461.5,135.7813 Q462.0938,135.5 462.7188,134.9219 L462.7188,137.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="480.25" y="136.1543">ClientSimulation</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="1021" y1="148" y2="148"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="26" y="162.2104">lastServerWorldTick : uint = 0</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="168.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="26" y="175.0151">replayedStates : int</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="1021" y1="181.6094" y2="181.6094"/><ellipse cx="17" cy="192.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="990" x="26" y="195.8198">ClientSimulation(localPlayer:Player, playerManager:PlayerManager, networkObjectManager:NetworkObjectManager, handler:Handler, serverLatencyMs:int, initialWorldTick:uint)</text><ellipse cx="17" cy="205.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="328" x="26" y="208.6245">EnqueueWorldState(state:NetCommand.WorldState) : void</text><polygon fill="#FFFF44" points="17,213.2188,21,217.2188,17,221.2188,13,217.2188" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="26" y="221.4292">«override» Tick(dt:float) : void</text><polygon fill="#FFFF44" points="17,226.0234,21,230.0234,17,234.0234,13,230.0234" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="26" y="234.2339">«override» PostUpdate() : void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="240.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="26" y="247.0386">ProcessServerWorldState() : void</text><!--MD5=[da8c3974d335aac350241f92734c9c19]
class Queue`1--><rect fill="#FEFECE" filter="url(#fhqc0qf6hk99z)" height="48" id="Queue`1" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1057" y="161"/><ellipse cx="1072" cy="177" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1074.9688,182.6406 Q1074.3906,182.9375 1073.75,183.0781 Q1073.1094,183.2344 1072.4063,183.2344 Q1069.9063,183.2344 1068.5781,181.5938 Q1067.2656,179.9375 1067.2656,176.8125 Q1067.2656,173.6875 1068.5781,172.0313 Q1069.9063,170.375 1072.4063,170.375 Q1073.1094,170.375 1073.75,170.5313 Q1074.4063,170.6875 1074.9688,170.9844 L1074.9688,173.7031 Q1074.3438,173.125 1073.75,172.8594 Q1073.1563,172.5781 1072.5313,172.5781 Q1071.1875,172.5781 1070.5,173.6563 Q1069.8125,174.7188 1069.8125,176.8125 Q1069.8125,178.9063 1070.5,179.9844 Q1071.1875,181.0469 1072.5313,181.0469 Q1073.1563,181.0469 1073.75,180.7813 Q1074.3438,180.5 1074.9688,179.9219 L1074.9688,182.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="1086" y="181.1543">Queue`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="1149" y="158"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="1150" y="170.1387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1058" x2="1154" y1="193" y2="193"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1058" x2="1154" y1="201" y2="201"/><!--MD5=[a83d828be13d333e1fddb3d4d9d97191]
class Handler--><rect fill="#FEFECE" filter="url(#fhqc0qf6hk99z)" height="73.6094" id="Handler" style="stroke: #A80036; stroke-width: 1.5;" width="381" x="193.5" y="314"/><ellipse cx="355.25" cy="330" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M351.1719,325.7656 L351.1719,323.6094 L358.5625,323.6094 L358.5625,325.7656 L356.0938,325.7656 L356.0938,333.8438 L358.5625,333.8438 L358.5625,336 L351.1719,336 L351.1719,333.8438 L353.6406,333.8438 L353.6406,325.7656 L351.1719,325.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="49" x="375.75" y="334.1543">Handler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="194.5" x2="573.5" y1="346" y2="346"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="194.5" x2="573.5" y1="354" y2="354"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="199.5" y="368.2104">SampleInputs() : PlayerInputs?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="369" x="199.5" y="381.0151">SendInputs(command:NetCommand.PlayerInputCommand) : void</text><!--MD5=[43edc08a0fca8ad76d8e88ee9c991f1b]
class BaseSimulation--><rect fill="#FEFECE" filter="url(#fhqc0qf6hk99z)" height="48" id="BaseSimulation" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="450" y="8"/><ellipse cx="465" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M467.9688,29.6406 Q467.3906,29.9375 466.75,30.0781 Q466.1094,30.2344 465.4063,30.2344 Q462.9063,30.2344 461.5781,28.5938 Q460.2656,26.9375 460.2656,23.8125 Q460.2656,20.6875 461.5781,19.0313 Q462.9063,17.375 465.4063,17.375 Q466.1094,17.375 466.75,17.5313 Q467.4063,17.6875 467.9688,17.9844 L467.9688,20.7031 Q467.3438,20.125 466.75,19.8594 Q466.1563,19.5781 465.5313,19.5781 Q464.1875,19.5781 463.5,20.6563 Q462.8125,21.7188 462.8125,23.8125 Q462.8125,25.9063 463.5,26.9844 Q464.1875,28.0469 465.5313,28.0469 Q466.1563,28.0469 466.75,27.7813 Q467.3438,27.5 467.9688,26.9219 L467.9688,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="479" y="28.1543">BaseSimulation</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="451" x2="577" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="451" x2="577" y1="48" y2="48"/><!--MD5=[2cb47ba637a0d19583e6199456f6ad0b]
class Player--><rect fill="#FEFECE" filter="url(#fhqc0qf6hk99z)" height="48" id="Player" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="610" y="327"/><ellipse cx="625" cy="343" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M627.9688,348.6406 Q627.3906,348.9375 626.75,349.0781 Q626.1094,349.2344 625.4063,349.2344 Q622.9063,349.2344 621.5781,347.5938 Q620.2656,345.9375 620.2656,342.8125 Q620.2656,339.6875 621.5781,338.0313 Q622.9063,336.375 625.4063,336.375 Q626.1094,336.375 626.75,336.5313 Q627.4063,336.6875 627.9688,336.9844 L627.9688,339.7031 Q627.3438,339.125 626.75,338.8594 Q626.1563,338.5781 625.5313,338.5781 Q624.1875,338.5781 623.5,339.6563 Q622.8125,340.7188 622.8125,342.8125 Q622.8125,344.9063 623.5,345.9844 Q624.1875,347.0469 625.5313,347.0469 Q626.1563,347.0469 626.75,346.7813 Q627.3438,346.5 627.9688,345.9219 L627.9688,348.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="38" x="639" y="347.1543">Player</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="611" x2="679" y1="359" y2="359"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="611" x2="679" y1="367" y2="367"/><!--MD5=[e824fc3c35e995b527f0add5626e80d6]
class ClientSimulationAdjuster--><rect fill="#FEFECE" filter="url(#fhqc0qf6hk99z)" height="48" id="ClientSimulationAdjuster" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="715" y="327"/><ellipse cx="730" cy="343" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M732.9688,348.6406 Q732.3906,348.9375 731.75,349.0781 Q731.1094,349.2344 730.4063,349.2344 Q727.9063,349.2344 726.5781,347.5938 Q725.2656,345.9375 725.2656,342.8125 Q725.2656,339.6875 726.5781,338.0313 Q727.9063,336.375 730.4063,336.375 Q731.1094,336.375 731.75,336.5313 Q732.4063,336.6875 732.9688,336.9844 L732.9688,339.7031 Q732.3438,339.125 731.75,338.8594 Q731.1563,338.5781 730.5313,338.5781 Q729.1875,338.5781 728.5,339.6563 Q727.8125,340.7188 727.8125,342.8125 Q727.8125,344.9063 728.5,345.9844 Q729.1875,347.0469 730.5313,347.0469 Q731.1563,347.0469 731.75,346.7813 Q732.3438,346.5 732.9688,345.9219 L732.9688,348.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="744" y="347.1543">ClientSimulationAdjuster</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="716" x2="898" y1="359" y2="359"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="716" x2="898" y1="367" y2="367"/><!--MD5=[71171bb56012285b7cfa0d8c6356923b]
reverse link BaseSimulation to ClientSimulation--><path d="M514,76.56 C514,88.87 514,102.57 514,115.96 " fill="none" id="BaseSimulation&lt;-ClientSimulation" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="507,76.26,514,56.26,521,76.26,507,76.26" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6c359d51acce51508f4173816ac29f51]
link ClientSimulation to Player--><path d="M568.42,254.13 C587.63,278.18 608.16,303.88 623.12,322.6 " fill="none" id="ClientSimulation-&gt;Player" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="626.41,326.73,623.9155,317.2023,623.2883,322.8243,617.6663,322.1971,626.41,326.73" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="630.1662" y="316.0691">localPlayer</text><!--MD5=[3c12232a442a2f58d861879fec4fda8e]
link ClientSimulation to Queue`1--><path d="M1034.17,185 C1034.17,185 1040.84,185 1043.66,185 " fill="none" id="ClientSimulation-Queue`1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1056.88,185,1047.88,181,1051.88,185,1047.88,189,1056.88,185" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1051.88" x2="1043.88" y1="185" y2="185"/><polygon fill="#FFFFFF" points="1022.17,185,1028.17,189,1034.17,185,1028.17,181,1022.17,185" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="1163.176" y="174.0758">worldStateQueue&lt;NetCommand.WorldState&gt;</text><!--MD5=[abb20723b9360ec04c4f0734084889de]
link ClientSimulation to ClientSimulationAdjuster--><path d="M635.71,254.13 C680.1,278.97 727.62,305.57 761.32,324.43 " fill="none" id="ClientSimulation-&gt;ClientSimulationAdjuster" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="765.77,326.92,759.8648,319.0378,761.4053,324.4809,755.9622,326.0214,765.77,326.92" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="775.0642" y="315.9115">clientSimulationAdjuster</text><!--MD5=[6e8c897a5b4e7daa6bc304c73d8340b2]
link ClientSimulation to Handler--><path d="M447.41,254.13 C432.04,272.95 416.8,292.77 404.95,309.48 " fill="none" id="ClientSimulation-&gt;Handler" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="402.01,313.66,410.4694,308.6163,404.8945,309.576,403.9349,304.0011,402.01,313.66" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="352.9805" y="303.065">handler</text><!--MD5=[b696f9692bd859ccac3ea28be2aaa71e]
reverse link ClientSimulation to Handler--><path d="M463.94,266.19 C450.8,282.82 436.84,299.56 424.24,313.66 " fill="none" id="ClientSimulation&lt;-Handler" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="468.4037" cy="260.4411" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="463.4875" x2="473.32" y1="266.7522" y2="254.13"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="462.0926" x2="474.7148" y1="255.5248" y2="265.3574"/><!--MD5=[7b089c7e61b65b650aaf4bc91915c413]
@startuml
class ClientSimulation {
    - lastServerWorldTick : uint = 0
    - replayedStates : int
    + ClientSimulation(localPlayer:Player, playerManager:PlayerManager, networkObjectManager:NetworkObjectManager, handler:Handler, serverLatencyMs:int, initialWorldTick:uint)
    + EnqueueWorldState(state:NetCommand.WorldState) : void
    # <<override>> Tick(dt:float) : void
    # <<override>> PostUpdate() : void
    - ProcessServerWorldState() : void
}
class "Queue`1"<T> {
}
interface Handler {
    SampleInputs() : PlayerInputs?
    SendInputs(command:NetCommand.PlayerInputCommand) : void
}
BaseSimulation <|- - ClientSimulation
ClientSimulation - -> "localPlayer" Player
ClientSimulation o-> "worldStateQueue<NetCommand.WorldState>" "Queue`1"
ClientSimulation - -> "clientSimulationAdjuster" ClientSimulationAdjuster
ClientSimulation - -> "handler" Handler
ClientSimulation +- - Handler
@enduml

PlantUML version 1.2020.08(Sun Apr 26 14:08:22 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 15-ea+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>